<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>LEERSTOF - List</title>
  <script src="js/html2canvas.min.js"></script>
  <script src="js/FileSaver.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body class="theme-1">
  <div class="container" id="container">
    <div class="content">
      <ul class="list">
        <li contenteditable="true">The mind is <b>adaptable</b></li>
      </ul>
      <a href="#" class="next_btn"><img src="next.svg"></a>
    </div>
    <img src="logo.svg" class="logo-sm">
  </div>
  <div class="buttons">
    <button onclick="add_item()">Add item</button>
    <button onclick="emphasize()">Emphasize</button>
    <button onclick="save()" class="save">Save</button>
  </div>
</body>

<script>
  save = function () {
    html2canvas(document.querySelector("#container")).then(canvas => {
      canvas.toBlob(function (blob) {
        saveAs(blob, "screen.png");
      });
    });
  };

  emphasize = function () {
    document.execCommand('bold');
  };

  add_item = function () {
    const li = document.createElement("li");
    li.setAttribute("contenteditable", "true");
    li.setAttribute("class", "li");
    document.querySelector("ul").append(li);
    li.focus();
  };

  document.querySelector(".list").addEventListener("keydown", function (e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      e.stopPropagation();
      add_item();
    }
  });
</script>

</html>
