<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>LEERSTOF - List</title>
  <script src="js/html2canvas.min.js"></script>
  <script src="js/FileSaver.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>

<body class="theme-1">
  <div class="container" id="container">
    <div class="content">
      <ul class="list">
        <li contenteditable="true">The mind is <b>adaptable</b></li>
      </ul>
      <a href="#" class="next_btn">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 29.95 23.31" class="next">
          <filter id="dropshadow" height="130%">
            <feOffset dx="-4" dy="4" />
            <feComposite operator="out" in="SourceGraphic" in2="offset-blur" result="inverse" />
            <feFlood flood-color="black" flood-opacity=".5" result="color" />
            <feComposite operator="in" in="color" in2="inverse" result="shadow" />
            <feComposite operator="over" in="shadow" in2="SourceGraphic" />
          </filter>
          <path class="arrow" style="filter:url(#dropshadow)" d="M17.29,23.31V15.64H0v-8H17.29V0L30,11.65Z" />
        </svg>
      </a>
    </div>
    <img src="logo.svg" class="logo-sm">
  </div>
  <div class="buttons">
    <button onclick="add_item()">Add item</button>
    <button onclick="emphasize()">Emphasize</button>
    <button onclick="save()" class="save">Save</button>
  </div>
</body>

<script>
  save = function () {
    html2canvas(document.querySelector("#container")).then(canvas => {
      canvas.toBlob(function (blob) {
        saveAs(blob, "screen.png");
      });
    });
  };

  emphasize = function () {
    document.execCommand('bold');
  };

  add_item = function () {
    const li = document.createElement("li");
    li.setAttribute("contenteditable", "true");
    li.setAttribute("class", "li");
    document.querySelector("ul").append(li);
    li.focus();
  };

  document.querySelector(".list").addEventListener("keydown", function (e) {
    if (e.keyCode === 13) {
      e.preventDefault();
      e.stopPropagation();
      add_item();
    }
  });
</script>

</html>
